<nav class="bg-gray-800">
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <div class="flex h-16 items-center justify-between">
      <div class="flex items-center">
        <h1 class="text-white font-bold">Application Portal</h1>
      </div>
      <div class="flex items-center">
        <div class="text-sm font-medium leading-none text-gray-400 mr-4">Welcome, {{ userName }}</div>
        <button (click)="logout()" class="rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500">Logout</button>
      </div>
    </div>
  </div>
</nav>

<main class="mx-auto max-w-7xl py-6 sm:px-6 lg:px-8">
  <!-- Add Form -->
  <div class="bg-white p-6 rounded-lg shadow mb-6">
    <h2 class="text-xl font-bold mb-4">Add New Application</h2>
    <form [formGroup]="addForm" (ngSubmit)="onAdd()" class="space-y-4">
      <input type="text" formControlName="name" placeholder="Application Name" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
      <input type="url" formControlName="url" placeholder="Application URL" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
      <button type="submit" [disabled]="addForm.invalid" class="inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 disabled:bg-gray-400">Add Application</button>
    </form>
  </div>

  <!-- Application List -->
  <div class="bg-white p-6 rounded-lg shadow">
    <h2 class="text-xl font-bold mb-4">Existing Applications</h2>
    <div *ngFor="let app of applications" class="flex items-center justify-between bg-gray-50 p-4 rounded-lg mb-2">
      <div>
        <p class="font-semibold">{{ app.name }}</p>
        <a [href]="app.url" target="_blank" class="text-sm text-indigo-600">{{ app.url }}</a>
      </div>
      <div class="space-x-2">
        <button (click)="onEdit(app)" class="rounded-md bg-white px-2.5 py-1.5 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50">Edit</button>
        <button (click)="onDelete(app.id!)" class="rounded-md bg-red-50 px-2.5 py-1.5 text-sm font-semibold text-red-600 shadow-sm hover:bg-red-100">Delete</button>
      </div>
    </div>
  </div>
</main>

<!-- Edit Modal -->
<div *ngIf="editingApp" class="fixed inset-0 z-50 overflow-y-auto bg-gray-500 bg-opacity-75">
  <div class="flex items-center justify-center min-h-screen">
    <div class="relative bg-white rounded-lg shadow-xl p-6 m-4 max-w-lg w-full">
      <h3 class="text-lg font-medium text-gray-900 mb-4">Edit Application</h3>
      <form [formGroup]="editForm" (ngSubmit)="onSaveEdit()">
        <input type="text" formControlName="name" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm mb-4">
        <input type="url" formControlName="url" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm mb-4">
        <div class="flex justify-end space-x-2">
          <button type="button" (click)="cancelEdit()" class="rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700">Cancel</button>
          <button type="submit" [disabled]="editForm.invalid" class="rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white">Save</button>
        </div>
      </form>
    </div>
  </div>
</div>
